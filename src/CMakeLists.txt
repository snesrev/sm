target_sources(sm PRIVATE
    "config.c"
    "config.h"
    "enemy_types.h"
    "features.h"
    "funcs.h"
    "glsl_shader.c"
    "glsl_shader.h"
    "ida_types.h"
    "main.c"
    "opengl.c"
    "sm_80.c"
    "sm_81.c"
    "sm_82.c"
    "sm_84.c"
    "sm_85.c"
    "sm_86.c"
    "sm_87.c"
    "sm_88.c"
    "sm_89.c"
    "sm_8b.c"
    "sm_8d.c"
    "sm_8f.c"
    "sm_90.c"
    "sm_91.c"
    "sm_92.c"
    "sm_93.c"
    "sm_94.c"
    "sm_9b.c"
    "sm_a0.c"
    "sm_a2.c"
    "sm_a3.c"
    "sm_a4.c"
    "sm_a5.c"
    "sm_a6.c"
    "sm_a7.c"
    "sm_a8.c"
    "sm_a9.c"
    "sm_aa.c"
    "sm_ad.c"
    "sm_b2.c"
    "sm_b3.c"
    "sm_b4.c"
    "sm_cpu_infra.c"
    "sm_cpu_infra.h"
    "sm_rtl.c"
    "sm_rtl.h"
    "spc_player.c"
    "spc_player.h"
    "spc_variables.h"
    "tracing.c"
    "tracing.h"
    "types.h"
    "util.c"
    "util.h"
    "variables_extra.h"
    "variables.h"

    "snes/apu.c"
    "snes/apu.h"
    "snes/cart.c"
    "snes/cart.h"
    "snes/cpu.c"
    "snes/cpu.h"
    "snes/dma.c"
    "snes/dma.h"
    "snes/dsp.c"
    "snes/dsp.h"
    "snes/dsp_regs.h"
    "snes/input.c"
    "snes/input.h"
    "snes/ppu.c"
    "snes/ppu.h"
    "snes/saveload.h"
    "snes/snes.c"
    "snes/snes.h"
    "snes/snes_other.c"
    "snes/spc.c"
    "snes/spc.h"
)

if (WIN32)
    target_sources(sm PRIVATE
        "platform/win32/volume_control.c"
        "platform/win32/volume_control.h"
    )
endif()

if (NINTENDO_SWITCH)
    target_include_directories(sm PRIVATE "platform/switch/src")
    target_sources(sm PRIVATE
        "platform/switch/src/switch_impl.c"
        "platform/switch/src/switch_impl.h"
    )
endif()